(this["webpackJsonpegbin-client"]=this["webpackJsonpegbin-client"]||[]).push([[15],{712:function(e,t,n){"use strict";n.r(t);var c=n(19),s=n(1),a=n(39),r=n(630),l=n(161),i=n(638),j=n(87),o=n(627),d=n(628),b=function(){var e=Object(j.e)(),t=Object(l.b)(),n=Object(l.c)((function(e){return e})).users.user,b=Object(s.useState)(""),h=Object(r.a)(b,2),O=h[0],m=h[1],u=Object(s.useState)({}),x=Object(r.a)(u,2),p=x[0],v=x[1];Object(s.useLayoutEffect)((function(){m(n[p.leaveType])}),[p.leaveType]);var f=function(e){var t=e.target.name,n=e.target.value;v((function(){return p[t]=n,Object(a.a)({},p)}))};return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(o.F,{className:"d-flex justify-content-center",children:Object(c.jsx)(o.j,{xs:"12",md:"6",children:Object(c.jsxs)(o.e,{children:[Object(c.jsx)(o.i,{className:"p-8 ",children:Object(c.jsx)("strong",{children:"Leave Request Form"})}),Object(c.jsxs)(o.f,{children:[Object(c.jsxs)(o.r,{action:"",method:"post",encType:"multipart/form-data",className:"form-horizontal",children:[O&&Object(c.jsxs)(o.s,{row:!0,children:[Object(c.jsx)(o.j,{md:"3",children:Object(c.jsx)(o.D,{children:Object(c.jsx)("strong",{children:"Availabe Days:"})})}),Object(c.jsx)(o.j,{xs:"12",md:"9",children:Object(c.jsx)("p",{className:"form-control-static",children:Object(c.jsx)("strong",{children:O})})})]}),Object(c.jsxs)(o.s,{row:!0,children:[Object(c.jsxs)(o.j,{sm:"12",md:"6",children:[Object(c.jsx)(o.D,{htmlFor:"leaveType",children:"Leave Type"}),Object(c.jsxs)(o.G,{custom:!0,name:"leaveType",id:"leaveType",onChange:f,children:[Object(c.jsx)("option",{value:"",children:"Select Leave Type"}),Object(c.jsx)("option",{value:"annual_leave",children:"Annual Leave"}),Object(c.jsx)("option",{value:"exam_leave",children:"Examination Leave"}),Object(c.jsx)("option",{value:"sick_leave",children:"Sick Leave"}),Object(c.jsx)("option",{value:"compassionate_leave",children:"Compassionate Leave"})]})]}),Object(c.jsxs)(o.j,{md:"6",children:[Object(c.jsx)(o.D,{htmlFor:"duration",children:"Duration"}),Object(c.jsx)(o.y,{id:"duration",name:"duration",type:"number",placeholder:"Number of days",onChange:f,required:!0})]})]}),Object(c.jsxs)(o.s,{row:!0,children:[Object(c.jsxs)(o.j,{sm:"12",md:"6",children:[Object(c.jsx)(o.D,{htmlFor:"leave_start",children:"Start"}),Object(c.jsx)(o.y,{type:"date",id:"leave_start",name:"leave_start",placeholder:"date",onChange:f})]}),Object(c.jsxs)(o.j,{sm:"12",md:"6",children:[Object(c.jsx)(o.D,{htmlFor:"leave_end",children:"End"}),Object(c.jsx)(o.y,{type:"date",id:"leave_end",name:"leave_end",placeholder:"date",onChange:f})]})]}),Object(c.jsxs)(o.s,{row:!0,children:[Object(c.jsxs)(o.j,{sm:"12",md:"6",children:[Object(c.jsx)(o.D,{htmlFor:"resumption_date",children:"Resumption Date"}),Object(c.jsx)(o.y,{type:"date",id:"resumption_date",name:"resumption_date",placeholder:"date",onChange:f})]}),Object(c.jsxs)(o.j,{sm:"12",md:"6",children:[Object(c.jsx)(o.D,{htmlFor:"relieveStaff",children:"Relieve Staff"}),Object(c.jsxs)(o.G,{custom:!0,name:"relieveStaff",id:"relieveStaff",onChange:f,children:[Object(c.jsx)("option",{value:"0",children:"Select Employee"}),Object(c.jsx)("option",{value:"1",children:"Staff 1"}),Object(c.jsx)("option",{value:"2",children:"Staff 2"})]})]})]}),Object(c.jsx)(o.s,{row:!0,children:Object(c.jsxs)(o.j,{sm:"12",children:[Object(c.jsx)(o.D,{htmlFor:"description",children:"Description"}),Object(c.jsx)(o.I,{name:"description",id:"description",rows:"4",placeholder:"Tell us why...",onChange:f})]})})]}),Object(c.jsxs)("div",{children:["Reporting Manager: ",n.line_manager]})]}),Object(c.jsxs)(o.g,{className:"d-flex justify-content-between",children:[Object(c.jsxs)(o.d,{type:"submit",size:"sm",color:"primary",onClick:function(){if(Object.keys(p).length<6)return e.show("Please complete all fields");if(p.duration>O)return e.show("You can only take "+O+" days");if(p.duration>=14)return e.show("Please input a duration below 14 days");var n=Object(a.a)(Object(a.a)({},p),{},{leave_start:new Date(p.leave_start),leave_end:new Date(p.leave_end),resumption_date:new Date(p.resumption_date)});t(Object(i.a)(n))},children:[Object(c.jsx)(d.a,{name:"cil-scrubber"})," Submit"]}),Object(c.jsxs)(o.d,{type:"reset",size:"sm",color:"danger",children:[Object(c.jsx)(d.a,{name:"cil-ban",onClick:function(){return console.log("cancelled")}})," Cancel"]})]})]})})})})};t.default=function(){return Object(c.jsx)("div",{children:Object(c.jsx)(b,{})})}}}]);
//# sourceMappingURL=15.a1568f30.chunk.js.map
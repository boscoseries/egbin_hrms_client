(this["webpackJsonpegbin-client"]=this["webpackJsonpegbin-client"]||[]).push([[10],{631:function(t,e,n){"use strict";n.d(e,"i",(function(){return u})),n.d(e,"c",(function(){return s})),n.d(e,"a",(function(){return y})),n.d(e,"f",(function(){return x})),n.d(e,"h",(function(){return i})),n.d(e,"g",(function(){return d})),n.d(e,"l",(function(){return w})),n.d(e,"b",(function(){return l})),n.d(e,"j",(function(){return f})),n.d(e,"e",(function(){return h})),n.d(e,"d",(function(){return v})),n.d(e,"k",(function(){return b})),n.d(e,"m",(function(){return p}));var a=n(636),r=n(53),c=n(647),o=n(637),u=function(t){return function(e){return o({method:"post",url:"".concat(a.b,"/api/v1/employees/login/"),data:t,headers:{"content-type":"application/json"}}).then((function(t){return e({type:r.e,payload:t.data.result}),localStorage.setItem("key",t.data.result.access),t.data})).catch((function(t){return t}))}},s=function(t){return function(e){var n=Object(c.a)(t);return e({type:r.e,payload:n}),n}},i=function(){return function(t){return o({method:"get",url:"".concat(a.b,"/api/v1/employees/"),headers:{"content-type":"application/json",authorization:a.a}}).then((function(e){return t({type:r.d,payload:e.data.results}),e.data.results})).catch((function(t){return t}))}},d=function(t){return function(e){return o({method:"get",url:"".concat(a.b,"/api/v1/employees/").concat(t),headers:{"content-type":"application/json",authorization:a.a}}).then((function(t){return e({type:r.c,payload:t.data}),t.data})).catch((function(t){return t}))}},l=function(t){return function(e){return o({method:"post",url:"".concat(a.b,"/api/v1/employees/"),data:t,headers:{"content-type":"application/json"}}).then((function(t){return e({type:r.a,payload:t.data}),t.data})).catch((function(t){return t}))}},p=function(t,e){return function(n){return o({method:"patch",url:"".concat(a.b,"/api/v1/employees/").concat(t,"/"),data:e,headers:{"content-type":"application/json",authorization:a.a}}).then((function(t){return n({type:r.h,payload:t.data}),t.data})).catch((function(t){return t}))}},f=function(){return function(t){t({type:r.f})}},h=function(t){return function(e){return o({method:"delete",url:"".concat(a.b,"/api/v1/employees/").concat(t,"/"),headers:{"content-type":"application/json",authorization:a.a}}).then((function(n){return e({type:r.b,payload:"".concat(t)}),n.data}))}},b=function(t){return function(e){return o({method:"post",url:"".concat(a.b,"/api/v1/employees/reset_password/"),data:t,headers:{"content-type":"application/json"}}).then((function(n){return e({type:r.g,payload:t.staff_id}),n.data}))}},m=n(88),j=n(637),y=function(t){return function(e){return j({method:"post",url:"".concat(a.b,"/api/v1/leave/"),data:t,headers:{"content-type":"application/json",authorization:a.a}}).then((function(t){return e({type:m.a,payload:t.data}),t.data})).catch((function(t){return t}))}},x=function(){return function(t){return j({method:"get",url:"".concat(a.b,"/api/v1/leave/"),headers:{"content-type":"application/json",authorization:a.a}}).then((function(e){return t({type:m.c,payload:e.data.results}),e.data.results})).catch((function(t){return t}))}},w=function(t,e){return function(n){return j({method:"patch",url:"".concat(a.b,"/api/v1/leave/").concat(t,"/update_status/"),data:e,headers:{"content-type":"application/json",authorization:a.a}}).then((function(t){return n({type:m.d,payload:t.data}),t.data})).catch((function(t){return t}))}},v=function(t){return function(e){return j({method:"delete",url:"".concat(a.b,"/api/v1/leave/").concat(t,"/"),headers:{"content-type":"application/json",authorization:a.a}}).then((function(n){return e({type:m.b,payload:"".concat(t)}),n.data}))}}},636:function(t,e,n){"use strict";var a;n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return r})),a="https://egbin-api.herokuapp.com";var r="Bearer ".concat(localStorage.getItem("key"))},690:function(t,e,n){"use strict";n.r(e);var a=n(20),r=n(633),c=n.n(r),o=n(634),u=n(9),s=n(635),i=n(1),d=n(163),l=n(22),p=n(631),f=n(89),h=n(638),b=n.n(h),m=n(628),j=n(629);e.default=function(){var t=Object(f.e)(),e=Object(l.g)(),n=Object(d.b)(),r=Object(i.useState)({}),h=Object(s.a)(r,2),y=h[0],x=h[1],w=function(t){var e=t.target.name,n=t.target.value;x((function(){return y[e]=n,Object(u.a)({},y)}))},v=function(){var a=Object(o.a)(c.a.mark((function a(){return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return console.log("loggedin"),a.next=3,n(Object(p.i)(Object(u.a)({},y)));case 3:if(!a.sent.result){a.next=8;break}return a.abrupt("return",e.push("/"));case 8:return t.show("Id and passwod do not match!"),a.abrupt("return",e.push("/login"));case 10:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return Object(a.jsx)("div",{className:"c-app c-default-layout flex-row align-items-center",children:Object(a.jsx)(m.k,{children:Object(a.jsx)(m.F,{className:"justify-content-center",children:Object(a.jsx)(m.j,{md:"5",children:Object(a.jsx)(m.h,{children:Object(a.jsx)(m.e,{className:"p-5",children:Object(a.jsx)(m.f,{children:Object(a.jsxs)(m.r,{children:[Object(a.jsx)("h1",{children:"Login"}),Object(a.jsx)("p",{className:"text-muted",children:"Sign In to your account"}),Object(a.jsxs)(m.z,{className:"mb-3",children:[Object(a.jsx)(m.B,{children:Object(a.jsx)(m.C,{children:Object(a.jsx)(j.a,{name:"cil-user"})})}),Object(a.jsx)(m.y,{type:"text",name:"staff_id",placeholder:"Username",autoComplete:"username",onChange:w})]}),Object(a.jsxs)(m.z,{className:"mb-4",children:[Object(a.jsx)(m.B,{children:Object(a.jsx)(m.C,{children:Object(a.jsx)(j.a,{name:"cil-lock-locked"})})}),Object(a.jsx)(m.y,{type:"password",name:"password",placeholder:"Password",autoComplete:"current-password",onChange:w})]}),Object(a.jsx)(m.z,{className:"mb-4",children:Object(a.jsx)(m.d,{color:"primary",className:"px-4 w-100",onClick:v,children:"Login"})}),Object(a.jsx)(m.j,{xs:"6",className:"text-right",children:Object(a.jsx)(m.d,{color:"link",className:"px-0",onClick:function(t){t.preventDefault(),b.a.fire({html:'\n  <form>\n   <h4 class="py-3">Enter your Staff ID and New password</h4>\n  <div class="form-group">\n    <label for="staff_id">Staff ID</label>\n    <input type="text" class="form-control" id="staff_id" placeholder="Enter Staff ID">\n  </div>\n  <div class="form-group">\n    <label for="new_password">New Password</label>\n    <input type="password" class="form-control" id="new_password" placeholder="Password">\n  </div>\n  <div class="form-group">\n    <label for="text">Re-enter Password</label>\n    <input type="password" class="form-control" id="password2" placeholder="Password">\n  </div>\n</form>\n      ',confirmButtonText:"Confirm",showCancelButton:!1,preConfirm:function(){return new Promise((function(t,e){t({staff_id:document.getElementById("staff_id").value,new_password:document.getElementById("new_password").value,pasword2:document.getElementById("password2").value})}))}}).then(function(){var t=Object(o.a)(c.a.mark((function t(e){var a,r,o,u;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.isDismissed){t.next=2;break}return t.abrupt("return",b.a.fire({text:"Cancelled",icon:"error",timer:1500}));case 2:if(a=e.value,r=a.new_password,o=a.pasword2,r===o){t.next=5;break}return t.abrupt("return",b.a.fire({text:"Password do not match",icon:"error",button:!1,timer:2e3}));case 5:return t.next=7,n(Object(p.k)(e.value));case 7:return u=t.sent,t.abrupt("return",u.success?b.a.fire({text:"Password Reset Successful",icon:"success",button:!1,timer:2e3}):b.a.fire({text:"Problem Resetting Password",icon:"error",timer:1500}));case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},children:"Forgot password?"})})]})})})})})})})})}}}]);
//# sourceMappingURL=10.70461d41.chunk.js.map
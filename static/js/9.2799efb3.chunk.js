(this["webpackJsonpegbin-client"]=this["webpackJsonpegbin-client"]||[]).push([[9],{637:function(e,t,c){"use strict";c.d(t,"a",(function(){return s}));var n=c(20);c(1);function s(e){var t=e.containerClass,c=e.titleClass,s=e.title;e.lineClass;return Object(n.jsx)("div",{className:t,children:Object(n.jsx)("p",{className:c,children:s})})}},642:function(e,t,c){"use strict";var n=c(20),s=c(634),a=c.n(s),r=c(635),i=c(1),l=c(22),o=c(686),j=c(687),d=c(688),u=c(689),h=c(637),b=c(162),f=c(163),x=c(631),p=c(639),O=c(657),v=c.n(O);t.a=function(){var e=Object(f.c)((function(e){return e})),t=Object(f.b)(),c=Object(l.g)(),s=e.leaves,O=s.leaves,m=s.leave_updated,g=function(e){e.preventDefault();var t=e.target.classList[0];return c.push("/admin/employee/details/".concat(t))};Object(i.useEffect)((function(){t(Object(x.e)())}),[m,t]);var w=function(){var e=Object(r.a)(a.a.mark((function e(c){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c.preventDefault(),n=c.target.classList[0],v.a.fire({html:'\n      <form class="row">\n      <h3 class="py-3">Update Leave Request Status</h3>\n    <select id="update-status" class="form-control form-control-lg">\n      <option value="">--Choose a Status--</option>\n      <option value="APPROVED">APPROVED</option>\n      <option value="REJECTED">REJECTED</option>\n      <option value="PENDING">PENDING</option>\n    </select>\n    </form>\n      ',confirmButtonText:"Confirm",showCancelButton:!0,preConfirm:function(){return new Promise((function(e,t){e({status:document.getElementById("update-status").value})}))}}).then(function(){var e=Object(r.a)(a.a.mark((function e(c){var s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=c.value,e.next=3,t(Object(x.j)(n,s));case 3:e.sent.status?v.a.fire({text:"Update Successful",icon:"success",button:!1,timer:2e3}):v.a.fire({text:"Error updating Status",icon:"error",timer:1500});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(e){e.preventDefault();var c=e.target.classList[0];v.a.fire({text:"Confirm Delete? This action is irreversible",confirmButtonText:"Confirm",showCancelButton:!0}).then(function(){var e=Object(r.a)(a.a.mark((function e(n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.value){e.next=7;break}return e.next=4,t(Object(x.d)(c));case 4:return e.abrupt("return",v.a.fire({text:"Delete Successful",icon:"success",button:!1,timer:2e3}));case 7:v.a.fire({text:"Goodbye",icon:"warn",timer:1e3});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())};return O?Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("div",{children:Object(n.jsx)("div",{className:"pb-5 pt-5 pt-md-8",children:Object(n.jsxs)(o.a,{fluid:!0,style:{width:"97%"},children:[!O&&Object(n.jsx)("div",{style:{height:"70vh"},children:Object(n.jsx)("div",{className:"bg-white",children:Object(n.jsx)("div",{className:"d-flex flex-column justify-content-center align-items-center text-dark",style:{height:"30vh",fontSize:"17px"},children:Object(n.jsx)("p",{className:"pb-0 mb-1 font-weight-bold",children:"You don't have any leave requests for now."})})})}),O.length>0&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(h.a,{titleClass:"title text-white",title:"Leave Requests"}),Object(n.jsx)(j.a,{children:Object(n.jsx)("div",{className:"col",children:Object(n.jsx)(d.a,{className:"shadow p-0",children:Object(n.jsxs)(u.a,{className:"align-items-center table-flush",responsive:!0,children:[Object(n.jsx)("thead",{className:"thead-light",children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{scope:"col",children:"Staff ID"}),Object(n.jsx)("th",{scope:"col",children:"Name"}),Object(n.jsx)("th",{scope:"col",children:"Type"}),Object(n.jsx)("th",{scope:"col",children:"Starts"}),Object(n.jsx)("th",{scope:"col",children:"Ends"}),Object(n.jsx)("th",{scope:"col",children:"Duration"}),Object(n.jsx)("th",{scope:"col",children:"Relieve Staff"}),Object(n.jsx)("th",{scope:"col",children:"Status"}),Object(n.jsx)("th",{scope:"col"})]})}),Object(n.jsx)("tbody",{children:O.map((function(e,t){var c=e.id,s=e.staff,a=s.firstname,r=s.lastname,i=s.staff_id,l=e.type,o=e.leave_start,j=e.leave_end,d=e.duration,u=e.relieve_staff,h=e.status;return Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{scope:"row",children:Object(n.jsx)(b.b,{to:"/employees/".concat(i),style:{color:"black"},children:Object(n.jsx)("div",{className:"pl-3",children:Object(n.jsx)("span",{className:"mb-0 text-sm d-inline-block text-truncate",style:{maxWidth:"150px"},children:i})})})}),Object(n.jsx)("td",{children:"".concat(a," ").concat(r)}),Object(n.jsx)("td",{children:l}),Object(n.jsx)("td",{children:Object(n.jsx)("div",{children:new Date(o).toDateString()})}),Object(n.jsx)("td",{children:Object(n.jsx)("div",{children:new Date(j).toDateString()})}),Object(n.jsx)("td",{children:Object(n.jsx)("div",{children:d})}),Object(n.jsx)("td",{children:Object(n.jsx)("div",{children:"".concat(u.firstname," ").concat(u.lastname)})}),Object(n.jsx)("td",{children:Object(n.jsx)("div",{children:h})}),Object(n.jsx)("td",{className:"text-right",children:Object(n.jsx)("span",{children:Object(n.jsx)(p.f,{className:c,displayDetails:g,handleDelete:y,deleteKey:"Delete Request",updateKey:"Update Status",statusUpdate:w})})})]},t)}))})]})})})})]})]})})})}):null}},698:function(e,t,c){"use strict";c.r(t);var n=c(20),s=(c(1),c(642));t.default=function(){return Object(n.jsxs)("div",{children:[Object(n.jsx)("h2",{children:"Manage Leave Requests"}),Object(n.jsx)(s.a,{})]})}}}]);
//# sourceMappingURL=9.2799efb3.chunk.js.map
{"version":3,"sources":["views/base/title/Title.js","views/base/tables/users/Staff.js","views/pages/employee/LeaveHistory.js"],"names":["Title","containerClass","titleClass","title","lineClass","className","leaveRequests","staffId","name","type","starts","ends","duration","relieveStaff","status","LeaveRequests","history","useHistory","console","log","queryPage","useLocation","search","match","currentPage","Number","useState","page","setPage","handleRequestDetails","e","preventDefault","id","target","classList","push","useEffect","fluid","style","width","height","fontSize","length","responsive","scope","map","entry","index","to","color","maxWidth","detailsKey","displayDetails","EmployeeLeaveHistory"],"mappings":"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","file":"static/js/7.e4013fd3.chunk.js","sourcesContent":["import React from \"react\";\n\nexport default function Title ({ containerClass, titleClass, title, lineClass }) {\n  return (\n    <div className={containerClass}>\n      <p className={titleClass}>{title}</p>\n    </div>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\nimport { useHistory, useLocation } from \"react-router-dom\";\nimport { Card, Table, Container, Row } from \"reactstrap\";\nimport Title from \"../../title/Title\";\nimport { Link } from \"react-router-dom\";\n// import { useDispatch } from \"react-redux\";\n// import { HashLink } from \"react-router-hash-link\";\nimport { TheHeaderDropdownTasks } from \"../../../../containers\";\nimport swal from \"@sweetalert/with-react\";\n\nconst leaveRequests = [\n  {\n    staffId: 1,\n    name: \"John Doe\",\n    type: \"Annual\",\n    starts: \"2020-10-31\",\n    ends: \"2020-10-31\",\n    duration: \"10\",\n    relieveStaff: \"Sodiq Ridwan\",\n    status: \"Pending\"\n  },\n  {\n    staffId: 2,\n    name: \"John Doe\",\n    type: \"Annual\",\n    starts: \"2020-10-31\",\n    ends: \"2020-10-31\",\n    duration: \"10\",\n    relieveStaff: \"Sodiq Ridwan\",\n    status: \"Pending\"\n  }\n];\n\nconst LeaveRequests = () => {\n  // const dispatch = useDispatch();\n  const history = useHistory();\n\n  console.log(history);\n  const queryPage = useLocation().search.match(/page=([0-9]+)/, \"\");\n  const currentPage = Number(queryPage && queryPage[1] ? queryPage[1] : 1);\n  const [page, setPage] = useState(currentPage);\n\n  // const pageChange = newPage => {\n  //   currentPage !== newPage && history.push(`/users?page=${newPage}`);\n  // };\n\n  const handleRequestDetails = e => {\n    e.preventDefault();\n    const id = e.target.classList[0];\n    return history.push(`/admin/employee/details/${id}`);\n  };\n\n  useEffect(() => {\n    currentPage !== page && setPage(currentPage);\n  }, [currentPage, page]);\n\n  const handleStatusUpdate = e => {\n    e.preventDefault();\n    const id = e.target.classList[0];\n    swal(\"Update Leave Request Status\", {\n      content: (\n        <select className=\"form-control\" style={{ border: \"2px solid\" }} onChange={e => swal.setActionValue(e.target.value)}>\n          <option value=\"\">--Choose a Status--</option>\n          <option value=\"accept\">Accepted</option>\n          <option value=\"reject\">Rejected</option>\n          <option value=\"pending\">Pending</option>\n        </select>\n      ),\n      buttons: {\n        cancel: true,\n        confirm: \"Update!\"\n      },\n      dangerMode: true,\n      closeOnClickOutside: false\n    }).then(async value => {\n      // if (value) {\n      //   const response = await dispatch(updateStatus(id, value));\n      //   response.data\n      //     ? swal({\n      //         text: \"Update Successful\",\n      //         icon: \"success\",\n      //         button: false,\n      //         timer: 2000\n      //       })\n      //     : swal({\n      //         text: \"Error updating Status\",\n      //         icon: \"error\",\n      //         timer: 1500\n      //       });\n      // } else {\n      //   swal({\n      //     text: \"Update cancelled\",\n      //     icon: \"error\",\n      //     timer: 1200\n      //   });\n      // }\n    });\n  };\n  const handleDelete = () => {};\n\n  return (\n    <>\n      <div>\n        <div className=\"pb-5 pt-5 pt-md-8\">\n          <Container fluid style={{ width: \"97%\" }}>\n            {!leaveRequests && (\n              <div style={{ height: \"70vh\" }}>\n                <div className=\"bg-white\">\n                  <div\n                    className=\"d-flex flex-column justify-content-center align-items-center text-dark\"\n                    style={{ height: \"30vh\", fontSize: \"17px\" }}>\n                    <p className=\"pb-0 mb-1 font-weight-bold\">There are no competitions at the moment.</p>\n                    <p className=\"font-weight-bold\"> Competitions will display here when they are available</p>\n                  </div>\n                </div>\n              </div>\n            )}\n            {leaveRequests.length > 0 && (\n              <>\n                <Title titleClass=\"title text-white\" title=\"Leave Requests\" />\n                <Row>\n                  <div className=\"col\">\n                    <Card className=\"shadow p-0\">\n                      <Table className=\"align-items-center table-flush\" responsive>\n                        <thead className=\"thead-light\">\n                          <tr>\n                            <th scope=\"col\">Staff ID</th>\n                            <th scope=\"col\">Name</th>\n                            <th scope=\"col\">Type</th>\n                            <th scope=\"col\">Starts</th>\n                            <th scope=\"col\">Ends</th>\n                            <th scope=\"col\">Duration</th>\n                            <th scope=\"col\">Relieve Staff</th>\n                            <th scope=\"col\">Status</th>\n                            <th scope=\"col\" />\n                          </tr>\n                        </thead>\n\n                        <tbody>\n                          {leaveRequests.map((entry, index) => {\n                            const { staffId, name, type, starts, ends, duration, relieveStaff, status } = entry;\n                            return (\n                              <tr key={index}>\n                                <th scope=\"row\">\n                                  <Link to={`/employees/${staffId}`} style={{ color: \"black\" }}>\n                                    <div className=\"pl-3\">\n                                      <span className=\"mb-0 text-sm d-inline-block text-truncate\" style={{ maxWidth: \"150px\" }}>\n                                        {staffId}\n                                      </span>\n                                    </div>\n                                  </Link>\n                                </th>\n                                <td>{name}</td>\n                                <td>{type}</td>\n                                <td>\n                                  <div>{starts}</div>\n                                </td>\n                                <td>\n                                  <div>{ends}</div>\n                                </td>\n                                <td>\n                                  <div>{duration}</div>\n                                </td>\n                                <td>\n                                  <div>{relieveStaff}</div>\n                                </td>\n                                <td>\n                                  <div>{status}</div>\n                                </td>\n                                <td className=\"text-right\">\n                                  <span>\n                                    <TheHeaderDropdownTasks\n                                      // updateKey={\"Update Record\"}\n                                      // deleteKey={\"Delete Record\"}\n                                      detailsKey={\"View Details\"}\n                                      className={staffId}\n                                      // statusUpdate={handleStatusUpdate}\n                                      // handleDelete={handleDelete}\n                                      displayDetails={handleRequestDetails}\n                                    />\n                                  </span>\n                                </td>\n                              </tr>\n                            );\n                          })}\n                        </tbody>\n                      </Table>\n                    </Card>\n                  </div>\n                </Row>\n              </>\n            )}\n          </Container>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default LeaveRequests;\n","import React from \"react\";\nimport StaffLeaveHistory from \"../../base/tables/users/Staff\";\n\nconst EmployeeLeaveHistory = () => {\n  return (\n    <div>\n      <StaffLeaveHistory />\n    </div>\n  );\n};\n\nexport default EmployeeLeaveHistory;\n"],"sourceRoot":""}
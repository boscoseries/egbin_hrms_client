(this["webpackJsonpegbin-client"]=this["webpackJsonpegbin-client"]||[]).push([[9],{637:function(e,t,c){"use strict";c.d(t,"a",(function(){return n}));var s=c(20);c(1);function n(e){var t=e.containerClass,c=e.titleClass,n=e.title;e.lineClass;return Object(s.jsx)("div",{className:t,children:Object(s.jsx)("p",{className:c,children:n})})}},643:function(e,t,c){"use strict";var s=c(20),n=c(633),a=c.n(n),i=c(635),r=c(1),l=c(22),o=c(698),d=c(699),j=c(700),h=c(701),u=c(637),b=c(162),x=c(163),p=c(631),f=c(639),O=c(659),v=c.n(O);t.a=function(){var e=Object(x.c)((function(e){return e})),t=Object(x.b)(),c=Object(l.g)(),n=e.leaves,O=n.leaves,m=n.leave_updated,g=function(e){e.preventDefault();var t=e.target.classList[0];return c.push("/admin/employee/details/".concat(t))};Object(r.useEffect)((function(){t(Object(p.d)())}),[m,t]);var y=function(){var e=Object(i.a)(a.a.mark((function e(c){var s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c.preventDefault(),s=c.target.classList[0],v.a.fire({html:'\n      <form class="row">\n      <h3 class="py-3">Update Leave Request Status</h3>\n    <select id="update-status" class="form-control form-control-lg">\n      <option value="">--Choose a Status--</option>\n      <option value="APPROVED">APPROVED</option>\n      <option value="REJECTED">REJECTED</option>\n      <option value="PENDING">PENDING</option>\n    </select>\n    </form>\n      ',confirmButtonText:"Confirm",showCancelButton:!0,preConfirm:function(){return new Promise((function(e,t){e({status:document.getElementById("update-status").value})}))}}).then(function(){var e=Object(i.a)(a.a.mark((function e(c){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.value,e.next=3,t(Object(p.i)(s,n));case 3:e.sent.status?v.a.fire({text:"Update Successful",icon:"success",button:!1,timer:2e3}):v.a.fire({text:"Error updating Status",icon:"error",timer:1500});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){};return O?Object(s.jsx)(s.Fragment,{children:Object(s.jsx)("div",{children:Object(s.jsx)("div",{className:"pb-5 pt-5 pt-md-8",children:Object(s.jsxs)(o.a,{fluid:!0,style:{width:"97%"},children:[!O&&Object(s.jsx)("div",{style:{height:"70vh"},children:Object(s.jsx)("div",{className:"bg-white",children:Object(s.jsx)("div",{className:"d-flex flex-column justify-content-center align-items-center text-dark",style:{height:"30vh",fontSize:"17px"},children:Object(s.jsx)("p",{className:"pb-0 mb-1 font-weight-bold",children:"You don't have any leave requests for now."})})})}),O.length>0&&Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(u.a,{titleClass:"title text-white",title:"Leave Requests"}),Object(s.jsx)(d.a,{children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)(j.a,{className:"shadow p-0",children:Object(s.jsxs)(h.a,{className:"align-items-center table-flush",responsive:!0,children:[Object(s.jsx)("thead",{className:"thead-light",children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{scope:"col",children:"Staff ID"}),Object(s.jsx)("th",{scope:"col",children:"Name"}),Object(s.jsx)("th",{scope:"col",children:"Type"}),Object(s.jsx)("th",{scope:"col",children:"Starts"}),Object(s.jsx)("th",{scope:"col",children:"Ends"}),Object(s.jsx)("th",{scope:"col",children:"Duration"}),Object(s.jsx)("th",{scope:"col",children:"Relieve Staff"}),Object(s.jsx)("th",{scope:"col",children:"Status"}),Object(s.jsx)("th",{scope:"col"})]})}),Object(s.jsx)("tbody",{children:O.map((function(e,t){var c=e.id,n=e.staff,a=n.firstname,i=n.lastname,r=n.staff_id,l=e.type,o=e.leave_start,d=e.leave_end,j=e.duration,h=e.relieve_staff,u=e.status;return Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{scope:"row",children:Object(s.jsx)(b.b,{to:"/employees/".concat(r),style:{color:"black"},children:Object(s.jsx)("div",{className:"pl-3",children:Object(s.jsx)("span",{className:"mb-0 text-sm d-inline-block text-truncate",style:{maxWidth:"150px"},children:r})})})}),Object(s.jsx)("td",{children:"".concat(a," ").concat(i)}),Object(s.jsx)("td",{children:l}),Object(s.jsx)("td",{children:Object(s.jsx)("div",{children:new Date(o).toDateString()})}),Object(s.jsx)("td",{children:Object(s.jsx)("div",{children:new Date(d).toDateString()})}),Object(s.jsx)("td",{children:Object(s.jsx)("div",{children:j})}),Object(s.jsx)("td",{children:Object(s.jsx)("div",{children:"".concat(h.firstname," ").concat(h.lastname)})}),Object(s.jsx)("td",{children:Object(s.jsx)("div",{children:u})}),Object(s.jsx)("td",{className:"text-right",children:Object(s.jsx)("span",{children:Object(s.jsx)(f.f,{detailsKey:"View Details",className:c,displayDetails:g,handleDelete:w,deleteKey:"Delete Request",updateKey:"Update Status",statusUpdate:y})})})]},t)}))})]})})})})]})]})})})}):null}},710:function(e,t,c){"use strict";c.r(t);var s=c(20),n=(c(1),c(643));t.default=function(){return Object(s.jsxs)("div",{children:[Object(s.jsx)("h2",{children:"Manage Leave Requests"}),Object(s.jsx)(n.a,{})]})}}}]);
//# sourceMappingURL=9.fb7682ba.chunk.js.map
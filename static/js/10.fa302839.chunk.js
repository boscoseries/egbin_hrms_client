(this["webpackJsonpegbin-client"]=this["webpackJsonpegbin-client"]||[]).push([[10],{631:function(t,e,n){"use strict";n.d(e,"i",(function(){return u})),n.d(e,"c",(function(){return s})),n.d(e,"a",(function(){return m})),n.d(e,"f",(function(){return y})),n.d(e,"h",(function(){return i})),n.d(e,"g",(function(){return d})),n.d(e,"l",(function(){return x})),n.d(e,"b",(function(){return l})),n.d(e,"j",(function(){return p})),n.d(e,"e",(function(){return f})),n.d(e,"d",(function(){return w})),n.d(e,"k",(function(){return h}));var r=n(636),a=n(54),c=n(648),o=n(637),u=function(t){return function(e){return o({method:"post",url:"".concat(r.b,"/api/v1/employees/login/"),data:t,headers:{"content-type":"application/json"}}).then((function(t){return e({type:a.e,payload:t.data.result}),localStorage.setItem("key",t.data.result.access),t.data})).catch((function(t){return t}))}},s=function(t){return function(e){var n=Object(c.a)(t);return e({type:a.e,payload:n}),n}},i=function(){return function(t){return o({method:"get",url:"".concat(r.b,"/api/v1/employees/"),headers:{"content-type":"application/json",authorization:r.a}}).then((function(e){return t({type:a.d,payload:e.data}),e.data})).catch((function(t){return t}))}},d=function(t){return function(e){return o({method:"get",url:"".concat(r.b,"/api/v1/employees/").concat(t),headers:{"content-type":"application/json",authorization:r.a}}).then((function(t){return e({type:a.c,payload:t.data}),t.data})).catch((function(t){return t}))}},l=function(t){return function(e){return o({method:"post",url:"".concat(r.b,"/api/v1/employees/"),data:t,headers:{"content-type":"application/json"}}).then((function(t){return e({type:a.a,payload:t.data}),t.data})).catch((function(t){return t}))}},p=function(){return function(t){t({type:a.f})}},f=function(t){return function(e){return o({method:"delete",url:"".concat(r.b,"/api/v1/employees/").concat(t,"/"),headers:{"content-type":"application/json",authorization:r.a}}).then((function(n){return e({type:a.b,payload:"".concat(t)}),n.data}))}},h=function(t){return function(e){return o({method:"post",url:"".concat(r.b,"/api/v1/employees/reset_password/"),data:t,headers:{"content-type":"application/json"}}).then((function(n){return e({type:a.g,payload:t.staff_id}),n.data}))}},b=n(88),j=n(637),m=function(t){return function(e){return j({method:"post",url:"".concat(r.b,"/api/v1/leave/"),data:t,headers:{"content-type":"application/json",authorization:r.a}}).then((function(t){return e({type:b.a,payload:t.data}),t.data})).catch((function(t){return t}))}},y=function(){return function(t){return j({method:"get",url:"".concat(r.b,"/api/v1/leave/"),headers:{"content-type":"application/json",authorization:r.a}}).then((function(e){return t({type:b.c,payload:e.data.results}),e.data.results})).catch((function(t){return t}))}},x=function(t,e){return function(n){return j({method:"patch",url:"".concat(r.b,"/api/v1/leave/").concat(t,"/update_status/"),data:e,headers:{"content-type":"application/json",authorization:r.a}}).then((function(t){return n({type:b.d,payload:t.data}),t.data})).catch((function(t){return t}))}},w=function(t){return function(e){return j({method:"delete",url:"".concat(r.b,"/api/v1/leave/").concat(t,"/"),headers:{"content-type":"application/json",authorization:r.a}}).then((function(n){return e({type:b.b,payload:"".concat(t)}),n.data}))}}},636:function(t,e,n){"use strict";var r;n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return a})),r="https://egbin-api.herokuapp.com";var a="Bearer ".concat(localStorage.getItem("key"))},691:function(t,e,n){"use strict";n.r(e);var r=n(20),a=n(634),c=n.n(a),o=n(635),u=n(10),s=n(633),i=n(1),d=n(163),l=n(22),p=n(631),f=n(89),h=n(638),b=n.n(h),j=n(628),m=n(629);e.default=function(){var t=Object(f.e)(),e=Object(l.g)(),n=Object(d.b)(),a=Object(i.useState)({}),h=Object(s.a)(a,2),y=h[0],x=h[1],w=function(t){var e=t.target.name,n=t.target.value;x((function(){return y[e]=n,Object(u.a)({},y)}))},v=function(){var r=Object(o.a)(c.a.mark((function r(){return c.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return console.log("loggedin"),r.next=3,n(Object(p.i)(Object(u.a)({},y)));case 3:if(!r.sent.result){r.next=8;break}return r.abrupt("return",e.push("/"));case 8:return t.show("Id and passwod do not match!"),r.abrupt("return",e.push("/login"));case 10:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}();return Object(r.jsx)("div",{className:"c-app c-default-layout flex-row align-items-center",children:Object(r.jsx)(j.k,{children:Object(r.jsx)(j.F,{className:"justify-content-center",children:Object(r.jsx)(j.j,{md:"5",children:Object(r.jsx)(j.h,{children:Object(r.jsx)(j.e,{className:"p-5",children:Object(r.jsx)(j.f,{children:Object(r.jsxs)(j.r,{children:[Object(r.jsx)("h1",{children:"Login"}),Object(r.jsx)("p",{className:"text-muted",children:"Sign In to your account"}),Object(r.jsxs)(j.z,{className:"mb-3",children:[Object(r.jsx)(j.B,{children:Object(r.jsx)(j.C,{children:Object(r.jsx)(m.a,{name:"cil-user"})})}),Object(r.jsx)(j.y,{type:"text",name:"staff_id",placeholder:"Username",autoComplete:"username",onChange:w})]}),Object(r.jsxs)(j.z,{className:"mb-4",children:[Object(r.jsx)(j.B,{children:Object(r.jsx)(j.C,{children:Object(r.jsx)(m.a,{name:"cil-lock-locked"})})}),Object(r.jsx)(j.y,{type:"password",name:"password",placeholder:"Password",autoComplete:"current-password",onChange:w})]}),Object(r.jsx)(j.z,{className:"mb-4",children:Object(r.jsx)(j.d,{color:"primary",className:"px-4 w-100",onClick:v,children:"Login"})}),Object(r.jsx)(j.j,{xs:"6",className:"text-right",children:Object(r.jsx)(j.d,{color:"link",className:"px-0",onClick:function(t){t.preventDefault(),b.a.fire({html:'\n  <form>\n   <h4 class="py-3">Enter your Staff ID and New password</h4>\n  <div class="form-group">\n    <label for="staff_id">Staff ID</label>\n    <input type="text" class="form-control" id="staff_id" placeholder="Enter Staff ID">\n  </div>\n  <div class="form-group">\n    <label for="new_password">New Password</label>\n    <input type="password" class="form-control" id="new_password" placeholder="Password">\n  </div>\n  <div class="form-group">\n    <label for="text">Re-enter Password</label>\n    <input type="password" class="form-control" id="password2" placeholder="Password">\n  </div>\n</form>\n      ',confirmButtonText:"Confirm",showCancelButton:!1,preConfirm:function(){return new Promise((function(t,e){t({staff_id:document.getElementById("staff_id").value,new_password:document.getElementById("new_password").value,pasword2:document.getElementById("password2").value})}))}}).then(function(){var t=Object(o.a)(c.a.mark((function t(e){var r,a,o,u;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.isDismissed){t.next=2;break}return t.abrupt("return",b.a.fire({text:"Cancelled",icon:"error",timer:1500}));case 2:if(r=e.value,a=r.new_password,o=r.pasword2,a===o){t.next=5;break}return t.abrupt("return",b.a.fire({text:"Password do not match",icon:"error",button:!1,timer:2e3}));case 5:return t.next=7,n(Object(p.k)(e.value));case 7:return u=t.sent,t.abrupt("return",u.success?b.a.fire({text:"Password Reset Successful",icon:"success",button:!1,timer:2e3}):b.a.fire({text:"Problem Resetting Password",icon:"error",timer:1500}));case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},children:"Forgot password?"})})]})})})})})})})})}}}]);
//# sourceMappingURL=10.fa302839.chunk.js.map
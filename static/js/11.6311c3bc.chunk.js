(this["webpackJsonpegbin-client"]=this["webpackJsonpegbin-client"]||[]).push([[11],{642:function(e,t,n){"use strict";var c=n(20),r=n(633),s=n.n(r),a=n(634),i=n(1),l=n(22),o=n(692),d=n(693),u=n(694),j=n(695),h=n(162),b=n(163),f=n(631),p=n(638),x=n(641),O=n.n(x);t.a=function(){var e=Object(b.c)((function(e){return e})),t=Object(b.b)(),n=Object(l.g)(),r=e.leaves,x=r.leaves,v=r.leave_updated,m=function(e){e.preventDefault();var t=e.target.classList[0];return n.push("/admin/employee/details/".concat(t))};Object(i.useEffect)((function(){t(Object(f.f)())}),[v,t]);var g=function(){var e=Object(a.a)(s.a.mark((function e(n){var c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),c=n.target.id,O.a.fire({html:'\n      <form class="row">\n      <h3 class="py-3">Update Leave Request Status</h3>\n    <select id="update-status" class="form-control form-control-lg">\n      <option value="">--Choose a Status--</option>\n      <option value="APPROVED">APPROVED</option>\n      <option value="REJECTED">REJECTED</option>\n      <option value="PENDING">PENDING</option>\n    </select>\n    </form>\n      ',confirmButtonText:"Confirm",showCancelButton:!0,preConfirm:function(){return new Promise((function(e,t){e({status:document.getElementById("update-status").value})}))}}).then(function(){var e=Object(a.a)(s.a.mark((function e(n){var r,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=n.value)){e.next=6;break}return e.next=4,t(Object(f.k)(c,r));case 4:return a=e.sent,e.abrupt("return",a.status?O.a.fire({text:"Update Successful",icon:"success",button:!1,timer:2e3}):O.a.fire({text:"Error updating Status",icon:"error",timer:1500}));case 6:return e.abrupt("return",O.a.fire({text:"Error updating Status",icon:"error",timer:1500}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(e){e.preventDefault();var n=e.target.id;O.a.fire({text:"Confirm Delete? This action is irreversible",confirmButtonText:"Confirm",showCancelButton:!0}).then(function(){var e=Object(a.a)(s.a.mark((function e(c){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!c.value){e.next=7;break}return e.next=4,t(Object(f.d)(n));case 4:return e.abrupt("return",O.a.fire({text:"Delete Successful",icon:"success",button:!1,timer:2e3}));case 7:O.a.fire({text:"Goodbye",icon:"warn",timer:1e3});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())};return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)("div",{children:Object(c.jsx)("div",{className:"pb-5 pt-5 pt-md-8",children:Object(c.jsxs)(o.a,{fluid:!0,style:{width:"97%"},children:[!x.length&&Object(c.jsx)("div",{style:{height:"70vh"},children:Object(c.jsx)("div",{className:"bg-white",children:Object(c.jsx)("div",{className:"d-flex flex-column justify-content-center align-items-center text-dark",style:{height:"30vh",fontSize:"17px"},children:Object(c.jsx)("p",{className:"pb-0 mb-1 font-weight-bold",children:"You don't have any leave requests for now."})})})}),x.length>0&&Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(d.a,{children:Object(c.jsx)("div",{className:"col",children:Object(c.jsx)(u.a,{className:"shadow p-0",children:Object(c.jsxs)(j.a,{className:"align-items-center table-flush",responsive:!0,children:[Object(c.jsx)("thead",{className:"thead-light",children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{scope:"col",children:"Staff ID"}),Object(c.jsx)("th",{scope:"col",children:"Name"}),Object(c.jsx)("th",{scope:"col",children:"Type"}),Object(c.jsx)("th",{scope:"col",children:"Starts"}),Object(c.jsx)("th",{scope:"col",children:"Ends"}),Object(c.jsx)("th",{scope:"col",children:"Duration"}),Object(c.jsx)("th",{scope:"col",children:"Relieve Staff"}),Object(c.jsx)("th",{scope:"col",children:"Status"}),Object(c.jsx)("th",{scope:"col"})]})}),Object(c.jsx)("tbody",{children:x.map((function(e,t){var n=e.id,r=e.staff,s=r.firstname,a=r.lastname,i=r.staff_id,l=e.type,o=e.leave_start,d=e.leave_end,u=e.duration,j=e.relieve_staff,b=e.status;return Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{scope:"row",children:Object(c.jsx)(h.b,{to:"/employees/".concat(i),style:{color:"black"},children:Object(c.jsx)("div",{className:"pl-3",children:Object(c.jsx)("span",{className:"mb-0 text-sm d-inline-block text-truncate",style:{maxWidth:"150px"},children:i})})})}),Object(c.jsx)("td",{children:"".concat(s," ").concat(a)}),Object(c.jsx)("td",{children:l}),Object(c.jsx)("td",{children:Object(c.jsx)("div",{children:new Date(o).toDateString()})}),Object(c.jsx)("td",{children:Object(c.jsx)("div",{children:new Date(d).toDateString()})}),Object(c.jsx)("td",{children:Object(c.jsx)("div",{children:u})}),Object(c.jsx)("td",{children:Object(c.jsx)("div",{children:"".concat(j.firstname," ").concat(j.lastname)})}),Object(c.jsx)("td",{children:Object(c.jsx)("div",{children:b})}),Object(c.jsx)("td",{className:"text-right",children:Object(c.jsx)("span",{children:Object(c.jsx)(p.f,{id:n,displayDetails:m,handleDelete:y,deleteKey:"Delete Request",updateKey:"Update Status",statusUpdate:g})})})]},t)}))})]})})})})})]})})})})}},696:function(e,t,n){"use strict";n.r(t);var c=n(20),r=(n(1),n(642));t.default=function(){return Object(c.jsxs)("div",{children:[Object(c.jsx)("h2",{children:"Leave History"}),Object(c.jsx)(r.a,{})]})}}}]);
//# sourceMappingURL=11.6311c3bc.chunk.js.map
(this["webpackJsonpegbin-client"]=this["webpackJsonpegbin-client"]||[]).push([[9],{636:function(e,t,c){"use strict";c.d(t,"a",(function(){return n}));var s=c(20);c(1);function n(e){var t=e.containerClass,c=e.titleClass,n=e.title;e.lineClass;return Object(s.jsx)("div",{className:t,children:Object(s.jsx)("p",{className:c,children:n})})}},644:function(e,t,c){"use strict";var s=c(20),n=c(633),a=c.n(n),l=c(634),i=c(631),r=c(1),j=c(22),d=c(704),o=c(705),h=c(706),b=c(707),u=c(636),x=c(162),O=c(163),p=c(632),f=c(639),v=c(643),m=c.n(v);t.a=function(){var e=Object(O.c)((function(e){return e})),t=Object(O.b)(),c=Object(j.g)(),n=e.leaves.leaves,v=Object(r.useState)(!1),g=Object(i.a)(v,2),N=(g[0],g[1],Object(j.h)().search.match(/page=([0-9]+)/,"")),y=Number(N&&N[1]?N[1]:1),D=Object(r.useState)(y),w=Object(i.a)(D,2),S=w[0],E=w[1],k=function(e){e.preventDefault();var t=e.target.classList[0];return c.push("/admin/employee/details/".concat(t))};Object(r.useEffect)((function(){t(Object(p.d)()),y!==S&&E(y)}),[]);var C=function(e){e.preventDefault();var c=e.target.classList[0];m()("Update Leave Request Status",{content:Object(s.jsxs)("select",{className:"form-control",style:{border:"2px solid"},onChange:function(e){return console.log(e)},children:[Object(s.jsx)("option",{value:"",children:"--Choose a Status--"}),Object(s.jsx)("option",{value:"APPROVED",children:"APPROVED"}),Object(s.jsx)("option",{value:"REJECTED",children:"REJECTED"}),Object(s.jsx)("option",{value:"PENDING",children:"PENDING"})]}),buttons:{cancel:!0,confirm:"Update!"},dangerMode:!0,closeOnClickOutside:!1}).then(function(){var e=Object(l.a)(a.a.mark((function e(s){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!s){e.next=8;break}return console.log({value:s}),e.next=4,t(Object(p.h)(c,s));case 4:e.sent.data?m()({text:"Update Successful",icon:"success",button:!1,timer:2e3}):m()({text:"Error updating Status",icon:"error",timer:1500}),e.next=9;break;case 8:m()({text:"Update cancelled",icon:"error",timer:1200});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},R=function(){};return n?Object(s.jsx)(s.Fragment,{children:Object(s.jsx)("div",{children:Object(s.jsx)("div",{className:"pb-5 pt-5 pt-md-8",children:Object(s.jsxs)(d.a,{fluid:!0,style:{width:"97%"},children:[!n&&Object(s.jsx)("div",{style:{height:"70vh"},children:Object(s.jsx)("div",{className:"bg-white",children:Object(s.jsx)("div",{className:"d-flex flex-column justify-content-center align-items-center text-dark",style:{height:"30vh",fontSize:"17px"},children:Object(s.jsx)("p",{className:"pb-0 mb-1 font-weight-bold",children:"You don't have any leave requests for now."})})})}),n.length>0&&Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(u.a,{titleClass:"title text-white",title:"Leave Requests"}),Object(s.jsx)(o.a,{children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)(h.a,{className:"shadow p-0",children:Object(s.jsxs)(b.a,{className:"align-items-center table-flush",responsive:!0,children:[Object(s.jsx)("thead",{className:"thead-light",children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{scope:"col",children:"Staff ID"}),Object(s.jsx)("th",{scope:"col",children:"Name"}),Object(s.jsx)("th",{scope:"col",children:"Type"}),Object(s.jsx)("th",{scope:"col",children:"Starts"}),Object(s.jsx)("th",{scope:"col",children:"Ends"}),Object(s.jsx)("th",{scope:"col",children:"Duration"}),Object(s.jsx)("th",{scope:"col",children:"Relieve Staff"}),Object(s.jsx)("th",{scope:"col",children:"Status"}),Object(s.jsx)("th",{scope:"col"})]})}),Object(s.jsx)("tbody",{children:n.map((function(e,t){var c=e.id,n=e.staff,a=n.firstname,l=n.lastname,i=n.staff_id,r=e.type,j=e.leave_start,d=e.leave_end,o=e.duration,h=e.relieve_staff,b=e.status;return console.log(h),Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{scope:"row",children:Object(s.jsx)(x.b,{to:"/employees/".concat(i),style:{color:"black"},children:Object(s.jsx)("div",{className:"pl-3",children:Object(s.jsx)("span",{className:"mb-0 text-sm d-inline-block text-truncate",style:{maxWidth:"150px"},children:i})})})}),Object(s.jsx)("td",{children:"".concat(a)+" ".concat(l)}),Object(s.jsx)("td",{children:r}),Object(s.jsx)("td",{children:Object(s.jsx)("div",{children:new Date(j).toDateString()})}),Object(s.jsx)("td",{children:Object(s.jsx)("div",{children:new Date(d).toDateString()})}),Object(s.jsx)("td",{children:Object(s.jsx)("div",{children:o})}),Object(s.jsx)("td",{children:Object(s.jsx)("div",{children:"".concat(h.firstname)+" ".concat(h.lastname)})}),Object(s.jsx)("td",{children:Object(s.jsx)("div",{children:b})}),Object(s.jsx)("td",{className:"text-right",children:Object(s.jsx)("span",{children:Object(s.jsx)(f.f,{detailsKey:"View Details",className:c,displayDetails:k,handleDelete:R,deleteKey:"Delete Request",updateKey:"Update Status",statusUpdate:C})})})]},t)}))})]})})})})]})]})})})}):null}},708:function(e,t,c){"use strict";c.r(t);var s=c(20),n=(c(1),c(644));t.default=function(){return Object(s.jsxs)("div",{children:[Object(s.jsx)("h2",{children:"Leave History"}),Object(s.jsx)(n.a,{})]})}}}]);
//# sourceMappingURL=9.4bf0fa79.chunk.js.map
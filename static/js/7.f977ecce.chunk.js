(this["webpackJsonpegbin-client"]=this["webpackJsonpegbin-client"]||[]).push([[7],{631:function(e,t,n){"use strict";n.d(t,"g",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return b})),n.d(t,"d",(function(){return m})),n.d(t,"f",(function(){return l})),n.d(t,"e",(function(){return u})),n.d(t,"i",(function(){return f})),n.d(t,"b",(function(){return d})),n.d(t,"h",(function(){return j}));var a=n(636),c=n(66),r=n(648),s=n(638),o=function(e){return function(t){return s({method:"post",url:"".concat(a.b,"/api/v1/employees/login/"),data:e,headers:{"content-type":"application/json"}}).then((function(e){return t({type:c.d,payload:e.data.result}),localStorage.setItem("key",e.data.result.access),e.data})).catch((function(e){return e}))}},i=function(e){return function(t){var n=Object(r.a)(e);return t({type:c.d,payload:n}),n}},l=function(){return function(e){return s({method:"get",url:"".concat(a.b,"/api/v1/employees/"),headers:{"content-type":"application/json",authorization:a.a}}).then((function(t){return e({type:c.c,payload:t.data}),t.data})).catch((function(e){return e}))}},u=function(e){return function(t){return s({method:"get",url:"".concat(a.b,"/api/v1/employees/").concat(e),headers:{"content-type":"application/json",authorization:a.a}}).then((function(e){return t({type:c.b,payload:e.data}),e.data})).catch((function(e){return e}))}},d=function(e){return function(t){return s({method:"post",url:"".concat(a.b,"/api/v1/employees/"),data:e,headers:{"content-type":"application/json"}}).then((function(e){return t({type:c.a,payload:e.data}),e.data})).catch((function(e){return e}))}},j=function(){return function(e){e({type:c.e})}},h=n(114),p=n(638),b=function(e){return function(t){return p({method:"post",url:"".concat(a.b,"/api/v1/leave/"),data:e,headers:{"content-type":"application/json",authorization:a.a}}).then((function(e){return t({type:h.a,payload:e.data}),console.log(e.data),e.data})).catch((function(e){return e}))}},m=function(){return function(e){return p({method:"get",url:"".concat(a.b,"/api/v1/leave/"),headers:{"content-type":"application/json",authorization:a.a}}).then((function(t){return e({type:h.b,payload:t.data.results}),t.data.results})).catch((function(e){return e}))}},f=function(e,t){return function(n){return p({method:"patch",url:"".concat(a.b,"/api/v1/leave/").concat(e,"/update_status/"),data:t,headers:{"content-type":"application/json",authorization:a.a}}).then((function(e){return n({type:h.c,payload:e.data}),e.data})).catch((function(e){return e}))}}},636:function(e,t,n){"use strict";var a;n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return c})),a="https://egbin-api.herokuapp.com";var c="Bearer ".concat(localStorage.getItem("key"))},639:function(e,t,n){"use strict";n.d(t,"a",(function(){return O})),n.d(t,"b",(function(){return y})),n.d(t,"c",(function(){return k})),n.d(t,"d",(function(){return z})),n.d(t,"e",(function(){return E})),n.d(t,"f",(function(){return q})),n.d(t,"g",(function(){return L}));var a=n(20),c=n(15),r=n(1),s=n.n(r),o=n(22),i=n(628),l=n(636),u=s.a.lazy((function(){return Promise.all([n.e(6),n.e(13)]).then(n.bind(null,708))})),d=s.a.lazy((function(){return n.e(14).then(n.bind(null,716))})),j=s.a.lazy((function(){return n.e(17).then(n.bind(null,715))})),h=s.a.lazy((function(){return n.e(16).then(n.bind(null,714))})),p=s.a.lazy((function(){return Promise.all([n.e(2),n.e(10)]).then(n.bind(null,709))})),b=s.a.lazy((function(){return Promise.all([n.e(2),n.e(9)]).then(n.bind(null,710))})),m=[{path:"/",exact:!0,name:"Home",component:j},{path:"/admin/manage/:id",exact:!0,name:"Leave Request Details",component:s.a.lazy((function(){return n.e(11).then(n.bind(null,711))}))},{path:"/dashboard",exact:!0,name:"Dashboard",component:j},{path:"/admin/employees",exact:!0,name:"Employees",component:u},{path:"/admin/employees/:id",exact:!0,name:"Employee Details",component:s.a.lazy((function(){return n.e(15).then(n.bind(null,713))}))},{path:"/admin/manage",exact:!0,name:"Manage Leave Request",component:b},{path:"/admin/onboard",exact:!0,name:"Onboard",component:d},{path:"/request",exact:!0,name:"Request Leave",component:h},{path:"/employee/summary",exact:!0,name:"History",component:p},{path:"/employee/details/:id",exact:!0,name:"Leave Request Details",component:s.a.lazy((function(){return n.e(12).then(n.bind(null,712))}))}],f=Object(a.jsx)("div",{className:"pt-3 text-center",children:Object(a.jsx)("div",{className:"sk-spinner sk-spinner-pulse"})}),x=function(){var e=Object(o.g)();return!l.a||l.a.split(" ")[1].length<400?e.push("/login"):Object(a.jsx)("main",{className:"c-main",children:Object(a.jsx)(i.k,{fluid:!0,children:Object(a.jsx)(r.Suspense,{fallback:f,children:Object(a.jsxs)(o.d,{children:[m.map((function(e,t){return e.component&&Object(a.jsx)(o.b,{path:e.path,exact:e.exact,name:e.name,render:function(t){return Object(a.jsx)(i.p,{children:Object(a.jsx)(e.component,Object(c.a)({},t))})}},t)})),Object(a.jsx)(o.a,{from:"/",to:"/dashboard"})]})})})})},O=s.a.memo(x),g=function(){return Object(a.jsxs)(i.q,{fixed:!1,children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("a",{href:"https://egbin-power.com/",target:"_blank",rel:"noopener noreferrer",children:"Egnin Power"}),Object(a.jsx)("span",{className:"ml-1",children:"\xa9 2020 HRMS"})]}),Object(a.jsxs)("div",{className:"mfs-auto",children:[Object(a.jsx)("span",{className:"mr-1",children:"Powered by"}),Object(a.jsx)("a",{href:"https://egbin-power.com/",target:"_blank",rel:"noopener noreferrer",children:"Egbin Tech."})]})]})},y=s.a.memo(g),v=n(634),N=n(163),k=function(){var e=Object(N.c)((function(e){return e.users.loggedinUser})),t=e.role,n=e.firstname,c=Object(r.useState)(t),s=Object(v.a)(c,2),o=s[0],l=s[1];return Object(r.useLayoutEffect)((function(){l((function(){return t}))}),[t]),Object(a.jsxs)(i.t,{withSubheader:!0,children:[Object(a.jsxs)(i.H,{className:"px-3 justify-content-between",children:[Object(a.jsx)("img",{src:"https://theeagleonline.com.ng/wp-content/uploads/2015/10/Egbin-logo.jpg",height:"50",alt:"Logo"}),Object(a.jsxs)("div",{className:"d-flex align-items-center",children:["Welcome,",Object(a.jsx)("span",{children:Object(a.jsx)("strong",{className:"px-2",children:n})})]})]}),Object(a.jsxs)(i.u,{className:"d-md-down-none mr-auto",children:[Object(a.jsx)(i.v,{className:"px-3",children:Object(a.jsx)(i.w,{to:"/dashboard",children:"Dashboard"})}),Object(a.jsx)(i.v,{className:"px-3",children:Object(a.jsx)(i.w,{to:"/request",children:"Request Leave"})}),"ADMIN"===o&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(i.v,{className:"px-3",children:Object(a.jsx)(i.w,{to:"/admin/employees",children:"Employees"})}),Object(a.jsx)(i.v,{className:"px-3",children:Object(a.jsx)(i.w,{to:"/admin/onboard",children:"Onboard Employee"})})]}),("ADMIN"===o||"MANAGER"===o)&&Object(a.jsx)(i.v,{className:"px-3",children:Object(a.jsx)(i.w,{to:"/admin/manage",children:"Manage Leave Requests"})})]}),Object(a.jsxs)(i.u,{className:"px-3 d-flex align-items-center justify-content-center",children:[Object(a.jsx)(E,{}),Object(a.jsx)(z,{}),Object(a.jsx)(L,{})]})]})},w=n(629),z=function(){return Object(a.jsxs)(i.l,{inNav:!0,className:"c-header-nav-item mx-2",direction:"down",children:[Object(a.jsxs)(i.o,{className:"c-header-nav-link",caret:!1,children:[Object(a.jsx)(w.a,{name:"cil-envelope-open"}),Object(a.jsx)(i.a,{shape:"pill",color:"info",children:0})]}),Object(a.jsx)(i.n,{className:"pt-0",placement:"bottom-end",children:Object(a.jsx)(i.m,{header:!0,tag:"div",color:"light",children:Object(a.jsxs)("strong",{children:["You have ",0," messages"]})})})]})},E=function(){return Object(a.jsxs)(i.l,{inNav:!0,className:"c-header-nav-item mx-2",children:[Object(a.jsxs)(i.o,{className:"c-header-nav-link",caret:!1,children:[Object(a.jsx)(w.a,{name:"cil-bell"}),Object(a.jsx)(i.a,{shape:"pill",color:"danger",children:0})]}),Object(a.jsx)(i.n,{placement:"bottom-end",className:"pt-0",children:Object(a.jsx)(i.m,{header:!0,tag:"div",className:"text-center",color:"light",children:Object(a.jsxs)("strong",{children:["You have ",0," notifications"]})})})]})},D=n(631),L=function(){var e=Object(o.g)(),t=Object(N.b)();return Object(a.jsxs)(i.l,{inNav:!0,className:"c-header-nav-items mx-2",direction:"down",children:[Object(a.jsx)(i.o,{className:"c-header-nav-link d-block",caret:!1,children:Object(a.jsx)("div",{className:"c-avatar",children:Object(a.jsx)(i.x,{src:"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_960_720.png",className:"c-avatar-img",alt:"",height:100,witdth:100})})}),Object(a.jsxs)(i.n,{className:"pt-0 bg-gradient-secondary text-white",placement:"bottom-end",children:[Object(a.jsx)(i.m,{header:!0,tag:"div",color:"black",className:"text-center",children:Object(a.jsx)("strong",{children:"Account Settings"})}),Object(a.jsx)(i.m,{onClick:function(){return localStorage.removeItem("key"),t(Object(D.h)()),e.push("/login")},children:"Logout"})]})]})},q=function(e){var t=e.statusUpdate,n=e.handleDelete,c=e.displayDetails,s=e.className,o=e.updateKey,l=e.deleteKey,u=e.detailsKey,d=Object(N.c)((function(e){return e.users.loggedinUser})).role,j=Object(r.useState)(d),h=Object(v.a)(j,2),p=h[0],b=h[1];return Object(r.useLayoutEffect)((function(){b(d)}),[d]),Object(a.jsxs)(i.l,{className:"c-header-nav-items mx-2",direction:"up",children:[Object(a.jsx)(i.o,{className:"c-header-nav-link",caret:!1,children:Object(a.jsx)(w.a,{name:"cil-list"})}),Object(a.jsxs)(i.n,{className:"pt-0",placement:"bottom-end",children:[("ADMIN"===p||"MANAGER"===p)&&Object(a.jsx)(i.m,{onClick:t,children:Object(a.jsx)("strong",{className:s,children:o})}),"ADMIN"===p&&Object(a.jsx)(i.m,{onClick:n,children:Object(a.jsx)("strong",{className:s,children:l})}),Object(a.jsx)(i.m,{onClick:c,children:Object(a.jsx)("strong",{className:s,children:u})})]})]})};n(646)},646:function(e,t,n){"use strict";n.r(t);var a=n(20),c=n(633),r=n.n(c),s=n(635),o=n(1),i=n(639),l=n(631),u=n(22),d=n(163),j=n(636);t.default=function(){var e=Object(d.b)(),t=Object(u.g)();j.a&&j.a.split(" ")[1]||t.push("/login");var n=j.a.split(" ")[1];return Object(o.useLayoutEffect)((function(){(function(){var t=Object(s.a)(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e(Object(l.c)(n)));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()().then((function(){})).catch((function(){return t.push("/login")}))}),[n,e,t]),Object(a.jsx)("div",{className:"c-app c-default-layout",children:Object(a.jsxs)("div",{className:"c-wrapper",children:[Object(a.jsx)(i.c,{}),Object(a.jsx)("div",{className:"c-body",children:Object(a.jsx)(i.a,{})}),Object(a.jsx)(i.b,{})]})})}}}]);
//# sourceMappingURL=7.f977ecce.chunk.js.map